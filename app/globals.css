/* =========  Materna360 — Global Theme ========= */

:root {
  /* Palette */
  --rose-0: #FFF8FB;
  --rose-1: #FFEFF4;
  --rose-2: #FFD6E5;
  --magenta: #FF005E;
  --navy: #0D1B2A;
  --navy-2: #152A3A;
  --navy-soft: #152A3A;
  --ink: #4B5563;
  --muted: #5A6B7A;
  --white: #FFFFFF;
  --navy-10: rgba(13,27,42,0.10);

  /* Shadows */
  --shadow-magenta-1: 0 6px 16px rgba(255, 0, 94, .18);
  --shadow-magenta-2: 0 12px 28px rgba(255, 0, 94, .24);
  --shadow-soft-1:    0 6px 16px rgba(13, 27, 42, .06);
  --shadow-soft-2:    0 12px 28px rgba(13, 27, 42, .08);
  /* legacy */
  --shadow-rose: 0 0 0 1px var(--rose-2) inset, 0 12px 26px -10px rgba(255,0,94,.16), 0 4px 10px -6px rgba(255,0,94,.12);

  /* Radii */
  --r-lg: 20px;
  --r-xl: 24px;

  /* Materna360 “Soft-Luxury” Theme */
  --rose-bg: #FFF6F8;           /* background gradient tone */
  --card: #FFFFFF;              /* card and modal background */
  --magenta-10: rgba(255, 0, 94, 0.10);
  --magenta-15: rgba(255, 0, 94, 0.15);
  --magenta-20: rgba(255, 0, 94, 0.20);
  --ring: #FFD6E5;              /* soft ring for focus */
  --shadow-soft: 0 20px 40px var(--magenta-15);
  --radius-xl: 24px;
  --radius-lg: 16px;
  --radius-full: 999px;
  --elev: 0 10px 24px rgba(13,27,42,0.06), 0 6px 12px rgba(255,0,94,0.08);
  --fade-in: 200ms ease;
  --fade-out: 180ms ease;
}

/* Reset e base */
* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
html, body { height: 100%; }

a { color: inherit; text-decoration: none; }

body {
  color: var(--navy);
  background: linear-gradient(180deg, var(--rose-bg) 0%, var(--white) 100%);
}

main { min-height: 100vh; display: flex; justify-content: center; }
.container { width: min(960px, 100%); padding: 16px; }
@media (min-width: 480px) { .container { padding: 24px; } }
@media (min-width: 768px) { .container { padding: 32px; } }
.h1 { font-family: Poppins, system-ui; font-weight: 700; font-size: clamp(28px, 3.2vw, 32px); line-height: 1.2; color: var(--navy); letter-spacing: -.01em; margin: 0 0 8px; }
.h3 { font-family: Poppins, system-ui; font-weight: 700; font-size: 24px; line-height: 1.25; color: var(--navy); letter-spacing: -.01em; margin: 0 0 8px; }
.sub { opacity: .8; margin: 0 0 18px; }
.small { font-size: 14px; opacity: .9; color: var(--ink); }
.space { height: 16px; }
@media (min-width: 768px) { .space { height: 20px; } }

/* Cards */
.card {
  background: var(--card);
  border-radius: 20px;
  box-shadow: var(--shadow-soft);
  padding: 20px;
  transition: all 0.2s ease;
  color: var(--navy);
}
@media (min-width: 480px) { .card { padding: 22px; } }
@media (min-width: 768px) { .card { padding: 24px; } }
@media (min-width: 1024px) { .card { padding: 28px; } }
.card:hover { transform: translateY(-2px); }
.card-navy { background: var(--card); color: var(--navy); border: none; border-radius: var(--r-lg); box-shadow: var(--shadow-soft), inset 0 0 0 1px rgba(13,27,42,0.08); }

/* Botões base + variantes */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .5rem;
  padding: 12px 20px;
  border: none;
  border-radius: 14px;
  min-height: 44px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s ease;
  text-decoration: none;
}
@media (min-width: 768px) { .btn { min-height: 48px; } }
.btn:active { transform: scale(.98); }

/* Focus rings */
.btn-primary:focus-visible { outline: 2px solid var(--ring); outline-offset: 2px; }
.btn-ghost:focus-visible { outline: 2px solid var(--ring); outline-offset: 2px; }

.btn-primary { background: var(--magenta); color: var(--white); box-shadow: var(--shadow-soft); }
.btn-ghost { background: transparent; border: 1.5px solid var(--magenta-20); color: var(--navy); }
.btn-subtle { background: var(--card); box-shadow: var(--shadow-soft); color: var(--navy); }

.btn-ghost:hover { background: var(--rose-0-ghost, rgba(255,0,94,0.06)); }

/* Surfaces */
.tile { background: var(--card); border-radius: var(--r-lg); box-shadow: var(--shadow-soft); display: flex; align-items: center; justify-content: center; transition: transform .2s ease; }
.tile:hover { transform: translateY(-1px); }

/* Grid */
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }

/* Tab bar */
.bottom-nav { position: sticky; bottom: 0; left: 0; right: 0; display: flex; gap: 6px; justify-content: space-around; align-items: center; background: var(--card); padding: 10px 8px calc(10px + env(safe-area-inset-bottom, 0)); border-top: 1px solid var(--rose-2); box-shadow: var(--shadow-soft); }
.tab { display: flex; flex-direction: column; align-items: center; gap: 6px; color: var(--ink); font-size: 12px; }
.tab .icon { width: 22px; height: 22px; border-radius: 8px; border: 1.7px solid currentColor; display: flex; align-items: center; justify-content: center; }
.tab-active { position: relative; color: var(--magenta); }
.tab-active::after { content: ""; position: absolute; bottom: -6px; width: 6px; height: 6px; border-radius: 50%; background: var(--magenta); }

/* Generic nav styling */
nav { background: var(--card); border-top: 1px solid var(--magenta-10); box-shadow: var(--shadow-soft); }

/* Eu360 ring */
.ring { --s:120px; position: relative; width: var(--s); height: var(--s); border-radius: 50%; background: conic-gradient(var(--magenta) var(--p,40%), var(--navy-10) 0); display: grid; place-items: center; outline: 2px solid rgba(255,255,255,.25); outline-offset: -6px; }
.ring > div { width: calc(var(--s) - 18px); height: calc(var(--s) - 18px); border-radius: 50%; background: var(--card); color: var(--navy); display: grid; place-items: center; font-weight: 800; }

/* Icon label inside navy cards */
.iconStack { display: flex; flex-direction: column; gap: 8px; align-items: center; justify-content: center; text-align: center; }
.iconToken { width: 28px; height: 28px; border-radius: 10px; border: 1.5px solid rgba(21,42,58,0.8); color: rgba(21,42,58,0.8); display: flex; align-items: center; justify-content: center; }

/* soft-luxury polish v1 */

/* Materna360 Modal styles */
.m360-overlay { position: fixed; inset: 0; background: rgba(255, 246, 248, 0.6); display: grid; place-items: center; padding: 16px; z-index: 50; animation: m360-fade .25s ease both; backdrop-filter: blur(8px); }
.m360-modal { width: min(560px, 92vw); background: var(--card); border-radius: 24px; box-shadow: var(--shadow-soft); padding: 24px; color: var(--navy); animation: m360-rise .25s ease both; }
.m360-modal-title { color: var(--navy); font-weight: 700; font-size: 20px; line-height: 1.2; margin: 0 0 8px; }
.m360-modal-text { color: var(--ink); line-height: 1.5; margin: 4px 0 0; }
.m360-actions { display: flex; gap: 10px; justify-content: flex-end; margin-top: 16px; }

/* Inputs and chips */
.m360-field { margin: 8px 0; }
.m360-input { width: 100%; padding: 10px 12px; border-radius: 12px; border: 1px solid rgba(0,0,0,.15); transition: border-color .2s ease, box-shadow .2s ease; }
.m360-input:focus { outline: none; border-color: var(--magenta); box-shadow: 0 0 0 3px var(--ring); }

.m360-chip-row, .m360-emoji-row { display: flex; gap: 8px; margin: 12px 0; flex-wrap: wrap; }
.m360-chip { all: unset; background: var(--white); color: var(--navy); border: 1px solid rgba(0,0,0,.15); border-radius: 12px; padding: 8px 12px; cursor: pointer; transition: border-color .2s ease, box-shadow .2s ease, transform .2s ease; }
.m360-chip:hover { border-color: var(--magenta); box-shadow: 0 2px 6px rgba(255,0,94,.12); transform: translateY(-1px); }
.m360-chip.is-selected { border: 2px solid var(--magenta); }

.m360-emoji { all: unset; background: var(--white); color: var(--navy); border: 1px solid rgba(0,0,0,.15); border-radius: 12px; padding: 10px 12px; cursor: pointer; transition: border-color .2s ease, box-shadow .2s ease, transform .2s ease; font-size: 18px; line-height: 1; }
.m360-emoji:hover { border-color: var(--magenta); box-shadow: 0 2px 6px rgba(255,0,94,.12); transform: translateY(-1px); }
.m360-emoji.is-selected { border: 2px solid var(--magenta); }

/* Buttons inside modal */
.m360-modal .btn-ghost:hover { border-color: var(--magenta); }

/* Animations */
@keyframes m360-fade { from { opacity: 0 } to { opacity: 1 } }
@keyframes m360-rise { from { opacity: 0; transform: translateY(8px) scale(.98) } to { opacity: 1; transform: translateY(0) scale(1) } }

/* ===== Soft-Luxury Modal System (scoped to .modal) ===== */

.overlay, .modal-overlay { position: fixed; inset: 0; background: rgba(255, 246, 248, 0.6); backdrop-filter: blur(8px); opacity: 0; transition: opacity var(--fade-in); }
.overlay[aria-hidden="false"], .modal-overlay.open { opacity: 1; }
.overlay.closing, .modal-overlay.closing { opacity: 0; transition: opacity var(--fade-out); }

.modal, .modal-card, .dialog { background: var(--card); border-radius: var(--radius-xl); box-shadow: var(--shadow-soft); width: min(640px, 92vw); margin: auto; inset: 0; position: fixed; padding: 28px 28px 24px; color: var(--ink); transform: translateY(8px) scale(0.98); opacity: 0; transition: transform var(--fade-in), opacity var(--fade-in); }
.modal.open, .dialog[open], .modal-card.open { transform: translateY(0) scale(1); opacity: 1; }
.modal .title, .modal h2, .dialog h2 { color: var(--navy); font-weight: 800; font-size: clamp(22px, 2.2vw, 28px); letter-spacing: -0.01em; margin: 0 0 12px; }
.modal .body, .dialog .body { color: var(--ink); line-height: 1.55; }

.modal .close, .dialog .close { position: absolute; top: 18px; right: 18px; width: 36px; height: 36px; border-radius: var(--radius-full); display: grid; place-items: center; color: var(--navy); background: transparent; border: none; cursor: pointer; transition: background var(--fade-in), transform var(--fade-in); }
.modal .close:hover { background: var(--magenta-10); }
.modal .close:active { transform: scale(0.96); }
.modal .close:focus-visible { outline: 2px solid var(--ring); outline-offset: 2px; border-radius: var(--radius-full); }

.modal .actions, .dialog .actions { display: flex; gap: 12px; justify-content: flex-end; margin-top: 22px; }

/* Button system (scoped to .modal to avoid global changes) */
.modal .btn { appearance: none; border: 1px solid transparent; cursor: pointer; font-weight: 700; letter-spacing: 0.01em; padding: 12px 18px; border-radius: 14px; transition: background var(--fade-in), color var(--fade-in), border-color var(--fade-in), transform var(--fade-in), box-shadow var(--fade-in); display: inline-flex; align-items: center; gap: 10px; }
.modal .btn:disabled { opacity: 0.6; cursor: not-allowed; }

.modal .btn-primary { background: var(--magenta); color: var(--white); box-shadow: var(--shadow-soft); }
.modal .btn-primary:hover { filter: brightness(0.98); box-shadow: 0 12px 24px var(--magenta-20); }
.modal .btn-primary:active { transform: translateY(1px) scale(0.99); }
.modal .btn-primary:focus-visible { outline: 2px solid var(--ring); outline-offset: 2px; }

.modal .btn-ghost { background: transparent; color: var(--navy); border-color: var(--magenta-20); }
.modal .btn-ghost:hover { border-color: var(--magenta); background: var(--rose-0-ghost, rgba(255,0,94,0.06)); }
.modal .btn-ghost:active { transform: translateY(1px) scale(0.99); }
.modal .btn-ghost:focus-visible { outline: 3px solid var(--ring); outline-offset: 2px; }

.modal .btn-subtle { background: var(--white); color: var(--navy); border-color: rgba(13,27,42,0.10); border-radius: 14px; padding: 10px 16px; }
.modal .btn-subtle:hover { background: var(--white); box-shadow: 0 6px 14px var(--magenta-10); border-color: var(--magenta); }
.modal .btn-subtle[aria-pressed="true"], .modal .btn-subtle.active { border-color: var(--magenta); box-shadow: 0 8px 18px var(--magenta-15); }

.modal .btn-sm { padding: 10px 14px; border-radius: 12px; }
.modal .btn-lg { padding: 14px 20px; border-radius: 16px; }

/* Mood picker */
.chips .btn-subtle { border-radius: var(--radius-full); }
.emojis { display: flex; gap: 16px; margin: 8px 0 16px; }
.emoji-btn { width: 56px; height: 56px; border-radius: 16px; display: grid; place-items: center; font-size: 28px; background: var(--white); border: 2px solid transparent; cursor: pointer; transition: box-shadow var(--fade-in), transform var(--fade-in), border-color var(--fade-in), background var(--fade-in); }
.emoji-btn:hover { box-shadow: 0 8px 18px var(--magenta-10); }
.emoji-btn[aria-pressed="true"], .emoji-btn.active { border-color: var(--magenta); background: var(--magenta-10); box-shadow: 0 10px 22px var(--magenta-15); }

/* Input fields */
.modal input[type="text"], .modal textarea { width: 100%; padding: 12px 14px; border-radius: 12px; border: 1.5px solid rgba(13,27,42,0.12); background: var(--white); color: var(--navy); transition: border-color var(--fade-in), box-shadow var(--fade-in); }
.modal input:focus, .modal textarea:focus { outline: none; border-color: var(--magenta); box-shadow: 0 0 0 4px var(--ring); }

/* Quote */
.modal .quote { color: var(--navy); font-size: clamp(18px, 2vw, 20px); line-height: 1.6; margin: 6px 0 2px; }

/* Centered body helper */
.modal .body-center { display: flex; flex-direction: column; align-items: center; text-align: center; gap: 8px; }
